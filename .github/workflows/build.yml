name: Export SDL2 Only - Fixed

on: 
  workflow_dispatch:

jobs:
  export_sdl:
    runs-on: windows-2019
    steps:
      - name: Download and Extract SDL2
        shell: powershell
        run: |
          # Створюємо папку для експорту
          New-Item -ItemType Directory -Path "SDL_Export" -Force
          
          # Завантажуємо файл (використовуємо Invoke-WebRequest напряму)
          $url = "https://github.com/libsdl-org/SDL/releases/download/release-2.28.5/SDL2-devel-2.28.5-VC.zip"
          Invoke-WebRequest -Uri $url -OutFile "sdl2.zip"
          
          # Розпаковуємо
          Expand-Archive -Path "sdl2.zip" -DestinationPath "temp_sdl" -Force
          
          # Копіюємо тільки x64 бінарники
          # Увага: перевіряємо точний шлях всередині архіву
          Copy-Item "temp_sdl/*/lib/x64/*" -Destination "SDL_Export" -Force

      - name: Upload SDL2 Binaries
        uses: actions/upload-artifact@v4
        with:
          name: SDL2-x64-Windows
          path: SDL_Export/
          
